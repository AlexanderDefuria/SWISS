{% load static %}
{% load common_tags %}

<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>SWISS Match Scouting {{ team.number }}</title>
<script src="{% static 'entry/jquery.min.js' %}"></script>
<script src="{% static 'entry/validate.js' %}"></script>
<script src="{% static 'entry/script.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'entry/style.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'entry/colorsheet.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'entry/formstyle.css' %}">
<link rel="apple-touch-icon" sizes="180x180" href="{{ MEDIA_URL }}{% static 'favicon/apple-touch-icon.png' %}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ MEDIA_URL }}{% static 'favicon/favicon-32x32.png' %}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ MEDIA_URL }}{% static 'favicon/favicon-16x16.png' %}">
<meta name="theme-color" content="0F4D8D">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N73L5WQ');</script>
<!-- End Google Tag Manager -->
</head>
<body><!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N73L5WQ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    {% get_topbar 'headers/00_ScoutHeader.png' %}
	{% get_sidebar %}
	
	<div class="bodyContainer" id="bodyContainer">
		<div class="heroContent" id="heroSpace">
			<div class="stickyChip">
				<div class="teamnumberPill" style="background-color: {{team.colour}}">
						<p>{{ team.number }}</p>
				</div>
				<div class="teamnamePill">
						<p>{{ team.name }}</p>
				</div>
			</div>
		</div>
	<div id="myModal" class="modal">
		<div class="modal-content">
			<h1 id="modal-header" style="margin-left: 10px;">Modal Popup Header</h1>
			<p id="modal-desc">Lorem ipsum dolor sit amet.</p>
			<div style="display: flex; justify-content: center">
				<button class="modalButton" id="onFieldConfirm">Yes</button>
				<button class="modalButton" id="onFieldCancel">No</button>
			</div>
		</div>
	</div>
	<div>
		<form action="{% url 'entry:write_match_scout' team.id %}" class="formContainer" method="post" name="mainForm" id="mainForm">
            {% csrf_token %}
            {{ form }}
        </form>
	</div>
	<div id="snackbar">
		<p id="snacktext">Default Text</p>
	</div>
	</div>
	
<script> 
var modal = document.getElementById("myModal");
var opn = document.getElementById("onField_false");
var bad = document.getElementById("onFieldCancel");
var good = document.getElementById("onFieldConfirm");
var main = document.getElementById("mainForm");
var modhead = document.getElementById("modal-header")
var moddesc = document.getElementById("modal-desc")

// When the user clicks on the button, open the modal
opn.onclick = function() {
	modal.style.visibility = "visible";
	main.style.filter="blur(2px)";
	const canVibrate = window.navigator.vibrate;
	if (canVibrate) window.navigator.vibrate(40);
    modhead.innerHTML="Are you sure the Robot is not Present?";
    moddesc.innerHTML="Clicking yes will set all form values to ZERO and scroll you to the bottom of the page."
}

// When the user clicks on "no", close the modal
bad.onclick = function() {
	modal.style.visibility = "hidden";
	document.getElementById("onField_false").checked = false;
	document.getElementById("onField_true").checked = true;
	main.style.filter="blur(0)";
	const canVibrate = window.navigator.vibrate;
	if (canVibrate) window.navigator.vibrate(40);
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
	modal.style.visibility = "hidden";
	document.getElementById("onField_false").checked = false;
	document.getElementById("onField_true").checked = true;
	main.style.filter="blur(0)";
	const canVibrate = window.navigator.vibrate
	if (canVibrate) window.navigator.vibrate(40)
  }
}

good.onclick = function() {
	modal.style.visibility = "hidden";
	const canVibrate = window.navigator.vibrate
	if (canVibrate) window.navigator.vibrate(40)
	main.style.filter="blur(0)";
	document.getElementById("coordinate_x").value = "0";
	document.getElementById("coordinate_y").value = "0";
	document.getElementById("preloaded_ball_false").checked = true;
	document.getElementById("autoRoute").value = "0";
	document.getElementById("baseline_false").checked = true;
	document.getElementById("auto_fouls").value = "0";
	document.getElementById("auto_comment").value = "NOT PRESENT";
	document.getElementById("intakeType").value = "0";
	document.getElementById("under_defense").value = "0";
	document.getElementById("offensive_fouls").value = "0";
	document.getElementById("playedDefense_false").checked = true;
	document.getElementById("defense_rating").value = "0";
	document.getElementById("defense_fouls").value = "0";	
	document.getElementById("pushRating").value = "0";
	document.getElementById("lock_status").value = "0";
	document.getElementById("endgame_action").value = "0";
	document.getElementById("climb_attempts").value = "0";
	document.getElementById("comment").value = "NOT PRESENT";
	document.getElementById("disabled_true").checked = true;
    setTimeout(() => { document.getElementById("submit").scrollIntoView({behavior: 'smooth'	}); }, 500);
}
</script>
</body>
</html>
